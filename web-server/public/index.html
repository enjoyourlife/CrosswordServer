<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>
      Pomelo
    </title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <meta http-equiv="content-style-type" content="text/css" />
    <meta http-equiv="content-scripte-type" content="text/javascript" />
    <meta name="author" content="netease" />
    <meta name="version" content="1.0" />
    <meta name="keywords" content="pomelo" />
    <link type="text/css" rel="stylesheet" href="css/base.css" />
    <script src="js/lib/build/build.js" type="text/javascript"></script>
    <script type="text/javascript">
      require('boot');
    </script> 
    <script type="text/javascript">
      var pomelo = window.pomelo;
//      var host = "111.206.45.12";
//      var port = "30238";
      var host = "127.0.0.1";
      var port = "3010";
      // window.location.hostname
      function gateConnect() {
      
      	  var route = 'gate.gateHandler.queryEntry';
		  pomelo.init({
			host: window.location.hostname,
			port: 3014,
			log: true
		  }, function() {
			pomelo.request(route, {
				uid: 'usr1'
			}, function(data) {
				pomelo.disconnect();
				if(data.code === 500) {
					showError(LOGIN_ERROR);
					return;
				}
		        console.log(data);
			});
		  });
	  
      }
      
      
      
      function show() {
        pomelo.init({
          host: host,
          port: port,
          log: true
        }, function() {

            pomelo.request("connector.entryHandler.entry", {
                    orderno:"2274c4183b-uqpy-8884-4018-8438db75b8-c16"
            }, function(data) {
                console.log(data);
            });

//            pomelo.request("connector.entryHandler.notifyPayApple", {
//                resultInfo:"ewoJInNpZ25hdHVyZSIgPSAiQW1MU0hOTHFJR3ZPVlBITGhZcHpYNXVkdERaTFVuVVZOamJPOEdTRUVqakJobUhTeFR3enkyOUpGUHl6R3VKL2J3WHBIYURONVZHaGZpZ3RwMFpYV25oQjZpNUNEOTd1VnpPbGxLV2t1Y2htbjQwRVhCNkdVcEVjUVMzd1V4YmhURTJDaERMSDM0VHZ6VkhQeXZGK1FnN0sycG1WczZDRk9lWVRJQU83VXhxbEFBQURWekNDQTFNd2dnSTdvQU1DQVFJQ0NCdXA0K1BBaG0vTE1BMEdDU3FHU0liM0RRRUJCUVVBTUg4eEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUtEQXBCY0hCc1pTQkpibU11TVNZd0pBWURWUVFMREIxQmNIQnNaU0JEWlhKMGFXWnBZMkYwYVc5dUlFRjFkR2h2Y21sMGVURXpNREVHQTFVRUF3d3FRWEJ3YkdVZ2FWUjFibVZ6SUZOMGIzSmxJRU5sY25ScFptbGpZWFJwYjI0Z1FYVjBhRzl5YVhSNU1CNFhEVEUwTURZd056QXdNREl5TVZvWERURTJNRFV4T0RFNE16RXpNRm93WkRFak1DRUdBMVVFQXd3YVVIVnlZMmhoYzJWU1pXTmxhWEIwUTJWeWRHbG1hV05oZEdVeEd6QVpCZ05WQkFzTUVrRndjR3hsSUdsVWRXNWxjeUJUZEc5eVpURVRNQkVHQTFVRUNnd0tRWEJ3YkdVZ1NXNWpMakVMTUFrR0ExVUVCaE1DVlZNd2daOHdEUVlKS29aSWh2Y05BUUVCQlFBRGdZMEFNSUdKQW9HQkFNbVRFdUxnamltTHdSSnh5MW9FZjBlc1VORFZFSWU2d0Rzbm5hbDE0aE5CdDF2MTk1WDZuOTNZTzdnaTNvclBTdXg5RDU1NFNrTXArU2F5Zzg0bFRjMzYyVXRtWUxwV25iMzRucXlHeDlLQlZUeTVPR1Y0bGpFMU93QytvVG5STStRTFJDbWVOeE1iUFpoUzQ3VCtlWnRERWhWQjl1c2szK0pNMkNvZ2Z3bzdBZ01CQUFHamNqQndNQjBHQTFVZERnUVdCQlNKYUVlTnVxOURmNlpmTjY4RmUrSTJ1MjJzc0RBTUJnTlZIUk1CQWY4RUFqQUFNQjhHQTFVZEl3UVlNQmFBRkRZZDZPS2RndElCR0xVeWF3N1hRd3VSV0VNNk1BNEdBMVVkRHdFQi93UUVBd0lIZ0RBUUJnb3Foa2lHOTJOa0JnVUJCQUlGQURBTkJna3Foa2lHOXcwQkFRVUZBQU9DQVFFQWVhSlYyVTUxcnhmY3FBQWU1QzIvZkVXOEtVbDRpTzRsTXV0YTdONlh6UDFwWkl6MU5ra0N0SUl3ZXlOajVVUllISytIalJLU1U5UkxndU5sMG5rZnhxT2JpTWNrd1J1ZEtTcTY5Tkluclp5Q0Q2NlI0Szc3bmI5bE1UQUJTU1lsc0t0OG9OdGxoZ1IvMWtqU1NSUWNIa3RzRGNTaVFHS01ka1NscDRBeVhmN3ZuSFBCZTR5Q3dZVjJQcFNOMDRrYm9pSjNwQmx4c0d3Vi9abEwyNk0ydWVZSEtZQ3VYaGRxRnd4VmdtNTJoM29lSk9PdC92WTRFY1FxN2VxSG02bTAzWjliN1BSellNMktHWEhEbU9Nazd2RHBlTVZsTERQU0dZejErVTNzRHhKemViU3BiYUptVDdpbXpVS2ZnZ0VZN3h4ZjRjemZIMHlqNXdOelNHVE92UT09IjsKCSJwdXJjaGFzZS1pbmZvIiA9ICJld29KSW05eWFXZHBibUZzTFhCMWNtTm9ZWE5sTFdSaGRHVXRjSE4wSWlBOUlDSXlNREUwTFRFeExUSXdJREF6T2pFNE9qUXlJRUZ0WlhKcFkyRXZURzl6WDBGdVoyVnNaWE1pT3dvSkluVnVhWEYxWlMxcFpHVnVkR2xtYVdWeUlpQTlJQ0psWXpnd09UZzBOV014WW1Zd1lqVmpNVFppWldOak9XUmpPVGM1TTJSbE16RTRORFUzT1dGbElqc0tDU0p2Y21sbmFXNWhiQzEwY21GdWMyRmpkR2x2YmkxcFpDSWdQU0FpTVRBd01EQXdNREV6TWpRek1UYzROQ0k3Q2draVluWnljeUlnUFNBaU1TNDFMakFpT3dvSkluUnlZVzV6WVdOMGFXOXVMV2xrSWlBOUlDSXhNREF3TURBd01UTXlOek15TVRZMElqc0tDU0p4ZFdGdWRHbDBlU0lnUFNBaU1TSTdDZ2tpYjNKcFoybHVZV3d0Y0hWeVkyaGhjMlV0WkdGMFpTMXRjeUlnUFNBaU1UUXhOalE0TWpNeU1qQXdNQ0k3Q2draWRXNXBjWFZsTFhabGJtUnZjaTFwWkdWdWRHbG1hV1Z5SWlBOUlDSXpRakl3T1RnNU5pMHhRMFF6TFRSRU1UZ3RPVFV4UlMxRE1UazNRamMzTVRrM016TWlPd29KSW5CeWIyUjFZM1F0YVdRaUlEMGdJbXR3Vlc1c2IyTnJJanNLQ1NKcGRHVnRMV2xrSWlBOUlDSTVORE0xTVRjd05qa2lPd29KSW1KcFpDSWdQU0FpYjNKbkxtZGhiV1Z3WVc1ekxtRndjR3hwWTJGMGFXOXVMbXRsZVhObGRIQnBZVzV2SWpzS0NTSndkWEpqYUdGelpTMWtZWFJsTFcxeklpQTlJQ0l4TkRFMk5qZ3lNakk1TXpjNUlqc0tDU0p3ZFhKamFHRnpaUzFrWVhSbElpQTlJQ0l5TURFMExURXhMVEl5SURFNE9qVXdPakk1SUVWMFl5OUhUVlFpT3dvSkluQjFjbU5vWVhObExXUmhkR1V0Y0hOMElpQTlJQ0l5TURFMExURXhMVEl5SURFd09qVXdPakk1SUVGdFpYSnBZMkV2VEc5elgwRnVaMlZzWlhNaU93b0pJbTl5YVdkcGJtRnNMWEIxY21Ob1lYTmxMV1JoZEdVaUlEMGdJakl3TVRRdE1URXRNakFnTVRFNk1UZzZORElnUlhSakwwZE5WQ0k3Q24wPSI7CgkiZW52aXJvbm1lbnQiID0gIlNhbmRib3giOwoJInBvZCIgPSAiMTAwIjsKCSJzaWduaW5nLXN0YXR1cyIgPSAiMCI7Cn0"
//            }, function(data) {
//                console.log(data);
//            });

//        pomelo.request("connector.entryHandler.notifyPayBaidu", {
//            resultInfo:"1137915&1&2274c4183b-uqpy-8884-4018-8438db75b8-c16"
//        }, function(data) {
//            console.log(data);
//          });

//            pomelo.request("connector.entryHandler.vertifyPayBaidu", {
//                appid:"1137915",
//                orderno:"2274c4183b-uqpy-8884-4018-8438db75b8-c16",
//                appkey:"hGBhBNeAyiIHw2kqQfxfoZl7"
//            }, function(data) {
//                console.log(data);
//            });

//            pomelo.request("connector.entryHandler.notifyPayBaidu", {
//                transdata: '{\"exorderno\":\"1411295926049\",\"transid\":\"06514092118384853651\",\"waresid\":1,\"appid\":\"1137915\",\"feetype\":0,\"money\":1,\"count\":1,\"result\":0,\"transtype\":0,\"transtime\":\"2014-09-21 18:45:22\",\"cpprivate\":\"gamepans\",\"paytype\":5}'
//            }, function(data) {
//                console.log(data);
//            });

//            pomelo.request("connector.entryHandler.vertifyPaysBaidu", {
//
//            }, function(data) {
//                console.log(data);
//            });

        });
      }



      function register() {

//            pomelo.request("connector.entryHandler.vertifyPaysBaidu", {
//
//            }, function(data) {
//                console.log(data);
//            });

          pomelo.request("connector.entryHandler.register", {
              usr: 'userxxyy',
              pwd: 'pwd',
              nick: 'mike',
              sex: 1,
              gid: 'crossword'
          }, function(data) {
              console.log(data);
          });

      }

      function login() {

          pomelo.request("connector.entryHandler.login", {
              usr: 'userXXXYYY',
              plat: 'apple',
              gid: 'crossword'
          }, function(data) {
              console.log(data);
          });

      }

      function setScore() {

          pomelo.request("connector.entryHandler.setScore", {
              score: 35
          }, function(data) {
              console.log(data);
          });

      }

      function getTops() {

          pomelo.request("connector.entryHandler.getTops", {

          }, function(data) {
              console.log(data);
          });

      }
      
      function loginA() {

        pomelo.request("connector.entryHandler.login", {
					usr: 'user1',
					pwd: 'pwd',
                    gid: 'crossword'
				}, function(data) {
            console.log(data);
          });

      }
      
      function loginB() {

        pomelo.request("connector.entryHandler.login", {
					usr: 'user2',
					pwd: 'pwd',
                    gid: 'crossword'
				}, function(data) {
            console.log(data);
          });

      }      
      
      function logout() {
      
        pomelo.request("connector.entryHandler.logout", {
			}, function(data) {
            console.log(data);
          });
      
      }
      
      function sitdownA() {

            pomelo.request("connector.entryHandler.enter", {
                        gid: 'crossword',
                        uuid: '24c9e15e52afc47c225b757e7bee1f9d',
                        usr: 'user1',
                        cid: {type:1,level:1}
                }, function(data) {
                console.log(data);
              });

      }

      function sitdownB() {

              pomelo.request("connector.entryHandler.enter", {
                  gid: 'crossword',
                  uuid: '7e58d63b60197ceb55a1c487989a3720',
                  usr: 'user2',
                  cid: {type:1,level:1}
              }, function(data) {
                  console.log(data);
              });


      }

      function sitdownR(uid) {

          pomelo.request("connector.entryHandler.enter", {
              gid: 'killer',
              uuid:uid,
              cid:'C0'
          }, function(data) {
              console.log(data);
          });

      }

      function ready() {

          pomelo.request("killer.gameHandler.ready", {ready:true}, function(data) {
              console.log(data);
//              alert(data.msg);
          });

      }

      function situp() {
      
        pomelo.request("connector.entryHandler.exit", {
        			sit: 1,
        			level: 0
			}, function(data) {
            console.log(data);
          });
      
      }

      function getInfo() {

          pomelo.request("connector.entryHandler.getinfo", {
                uid: 2
          }, function(data) {
              console.log(data);
          });

      }

      function pay() {

          pomelo.request("connector.entryHandler.pay", {
              usr: 'user1',
              pwd: 'pwd',
              val: 8
          }, function(data) {
              console.log(data);
          });

      }

      function use() {

          pomelo.request("crossword.gameHandler.use", {
              iid: 3
          }, function(data) {
              console.log(data);
          });

      }
      
      function send() {
      
        pomelo.request("crossword.gameHandler.send", {
                val: 1
			}, function(data) {
            console.log(data);
          });
      
      }

      function cursor(tid) {

          pomelo.request("killer.gameHandler.cursor", {tid:tid}, function(data) {
              console.log(data);
          });

      }

      function rooms() {

          pomelo.request("connector.entryHandler.list", {gid:'killer'}, function(data) {
              console.log(data);
//              alert(data.msg);
          });

      }
      
    console.log('js log ... ');


      pomelo.on('onDoPayment', function(data) {
          console.log('onDoPayment ... ');
          console.log(data);
      });


	//wait message from the server.
	pomelo.on('onUserChat', function(data) {
		console.log('onUserChat ... ');
        console.log(data);
//		addMessage(data.from, data.target, data.msg);
//		$("#chatHistory").show();
//		if(data.from !== username)
//			tip('message', data.from);
	});

	//update user list
	pomelo.on('onUserEnter', function(data) {
		console.log('onUserEnter ...');
		console.log(data);
//		var user = data.user;
//		tip('online', user);
//		addUser(user);
	});

      pomelo.on('onUserReady', function(data) {
          console.log('onUserReady ...');
          console.log(data);
      });

      pomelo.on('onUserCursor', function(data) {
          console.log('onUserCursor ...');
          console.log(data);
      });

      pomelo.on('onUserUpdate', function(data) {
          console.log('onUserUpdate ...');
          console.log(data);
      });

	//update user list
	pomelo.on('onUserExit', function(data) {
		console.log('onUserExit ... ');
        console.log(data);
//		var user = data.user;
//		tip('offline', user);
//		removeUser(user);
	});

      pomelo.on('onGameItem', function(data) {
          console.log('onGameItem ... ');
          console.log(data);
      });

    pomelo.on('onGameReady', function(data) {
        console.log('onGameReady ... ');
        console.log(data);
    });

      pomelo.on('onGameProc', function(data) {
          console.log('onGameProc ... ');
          console.log(data);
      });

	pomelo.on('onGameStart', function(data) {
		console.log('onGameStart ... ');
		console.log(data);		
//		var user = data.user;
//		tip('offline', user);
//		removeUser(user);
	});

      pomelo.on('onGameState', function(data) {
          console.log('onGameState ... ');
          console.log(data);
      });

      pomelo.on('onGameRound', function(data) {
          console.log('onGameRound ... ');
          console.log(data);
      });

      pomelo.on('onGameTime', function(data) {
          console.log('onGameTime ... ');
          console.log(data);
      });

	pomelo.on('onGameStop', function(data) {
		console.log('onGameStop ... ');
        console.log(data);
//		var user = data.user;
//		tip('offline', user);
//		removeUser(user);
	});


	//handle disconect message, occours when the client is disconnect with servers
	pomelo.on('disconnect', function(reason) {
		console.log('disconnect ... ');
//		showLogin();
	});
	      
      
    </script>
    

        
        
  </head>
  <body>
    <div class="g-doc">
      <div class="g-banner" style="border:none">
        <div class="logo">
          <div class="img"></div>
        </div>
      </div>
      <div class="g-background">
        <div class="g-content">
          Welcome to Pomelo
        </div>
      </div>
      <div class="g-link">
        Home:
        <a href="https://github.com/NetEase/pomelo">https://github.com/NetEase/pomelo</a>
      </div>
            <div class="g-button">
        	<input id="test" type="button" value="Test Gate Server" onclick="gateConnect()"/>
      </div>
      <div class="g-button">
        <input id="test" type="button" value="Test Game Server" onclick="show()"/>
      </div>
        <div class="g-button">
            <input id="test" type="button" value="Reg Game Server" onclick="register()"/>
        </div>

        <div class="g-button">
            <input id="test" type="button" value="Login Game Server" onclick="login()"/>
        </div>
        <div class="g-button">
            <input id="test" type="button" value="setScore" onclick="setScore()"/>
        </div>
        <div class="g-button">
            <input id="test" type="button" value="getTops" onclick="getTops()"/>
        </div>

      <div class="g-button">
        <input id="test" type="button" value="Login A Game Server" onclick="loginA()"/>
      </div>
      <div class="g-button">
        <input id="test" type="button" value="Login B Game Server" onclick="loginB()"/>
      </div>
        <div class="g-button">
            <input id="test" type="button" value="GetInfo Game Server" onclick="getInfo()"/>
        </div>
      <div class="g-button">
        <input id="test" type="button" value="Sitdown A Game Server" onclick="sitdownA()"/>
      </div>
    <div class="g-button">
        <input id="test" type="button" value="Sitdown B Game Server" onclick="sitdownB()"/>
    </div>
        <div class="g-button">
            <input id="test" type="button" value="Sitdown R Game Server" onclick="sitdownR(Math.random())"/>
        </div>
        <div class="g-button">
            <input id="B2" type="button" value="Ready Game Server" onclick="ready()"/>
        </div>
        <div class="g-button">
        <input id="test" type="button" value="Situp Game Server" onclick="situp()"/>
      </div>     
      <div class="g-button">
        <input id="test" type="button" value="Logout Game Server" onclick="logout()"/>
      </div>                
      <div class="g-button">
        <input id="test" type="button" value="Send Game Server" onclick="send()"/>
      </div>

        <div class="g-button">
            <input id="test" type="button" value="Pay Game Server" onclick="pay()"/>
        </div>

        <div class="g-button">
            <input id="test" type="button" value="Use Game Server" onclick="use()"/>
        </div>
        <div class="g-button">
            <input id="C1" type="button" value="1" onclick="cursor(0)"/>
            <input id="C2" type="button" value="2" onclick="cursor(1)"/>
            <input id="C3" type="button" value="3" onclick="cursor(2)"/>
            <input id="C4" type="button" value="4" onclick="cursor(3)"/>
            <input id="C5" type="button" value="5" onclick="cursor(4)"/>
            <input id="C6" type="button" value="6" onclick="cursor(5)"/>
        </div>
        <div class="g-button">
            <input id="F1" type="button" value="List Game Server" onclick="rooms()"/>
        </div>

    </div>
    

    
  </body>
</html>
