<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>
      Pomelo
    </title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <meta http-equiv="content-style-type" content="text/css" />
    <meta http-equiv="content-scripte-type" content="text/javascript" />
    <meta name="author" content="netease" />
    <meta name="version" content="1.0" />
    <meta name="keywords" content="pomelo" />
    <link type="text/css" rel="stylesheet" href="css/base.css" />
    <script src="js/lib/build/build.js" type="text/javascript"></script>
    <script type="text/javascript">
      require('boot');
    </script> 
    <script type="text/javascript">
      var pomelo = window.pomelo;
      var host = "127.0.0.1";
      var port = "3010";
      
      function show() {
        pomelo.init({
          host: host,
          port: port,
          log: true
        }, function() {
        pomelo.request("connector.entryHandler.entry", "hello pomelo", function(data) {
            alert(data.msg);
          });
        });
      }
      
      function login() {
      
        pomelo.init({
          host: host,
          port: port,
          log: true
        }, function() {
        pomelo.request("connector.entryHandler.login", {
					username: 'name',
					rid: 'pwd'
				}, function(data) {

          });
        });      
      
      }
      
      function send() {
      
        pomelo.request("crossword.gameHandler.send", {
				rid: 'pwd',
				content: 'message',
				from: 'name',
				target: '*'
			}, function(data) {

          });
      
      }
      
    console.log('js log ... ');
      
	//wait message from the server.
	pomelo.on('onChat', function(data) {
		console.log('onChat ... ');
//		addMessage(data.from, data.target, data.msg);
//		$("#chatHistory").show();
//		if(data.from !== username)
//			tip('message', data.from);
	});

	//update user list
	pomelo.on('onAdd', function(data) {
		console.log('onAdd ... %s',data.channel);
//		var user = data.user;
//		tip('online', user);
//		addUser(user);
	});

	//update user list
	pomelo.on('onLeave', function(data) {
		console.log('onLeave ... ');
//		var user = data.user;
//		tip('offline', user);
//		removeUser(user);
	});


	//handle disconect message, occours when the client is disconnect with servers
	pomelo.on('disconnect', function(reason) {
		console.log('disconnect ... ');
//		showLogin();
	});
	      
      
    </script>
    

        
        
  </head>
  <body>
    <div class="g-doc">
      <div class="g-banner" style="border:none">
        <div class="logo">
          <div class="img"></div>
        </div>
      </div>
      <div class="g-background">
        <div class="g-content">
          Welcome to Pomelo
        </div>
      </div>
      <div class="g-link">
        Home:
        <a href="https://github.com/NetEase/pomelo">https://github.com/NetEase/pomelo</a>
      </div>
      <div class="g-button">
        <input id="test" type="button" value="Test Game Server" onclick="show()"/>
      </div>
      <div class="g-button">
        <input id="test" type="button" value="Login Game Server" onclick="login()"/>
      </div>
      <div class="g-button">
        <input id="test" type="button" value="Send Game Server" onclick="send()"/>
      </div>      
    </div>
    

    
  </body>
</html>
