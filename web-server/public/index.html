<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>
      Pomelo
    </title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <meta http-equiv="content-style-type" content="text/css" />
    <meta http-equiv="content-scripte-type" content="text/javascript" />
    <meta name="author" content="netease" />
    <meta name="version" content="1.0" />
    <meta name="keywords" content="pomelo" />
    <link type="text/css" rel="stylesheet" href="css/base.css" />
    <script src="js/lib/build/build.js" type="text/javascript"></script>
    <script type="text/javascript">
      require('boot');
    </script> 
    <script type="text/javascript">
      var pomelo = window.pomelo;
      var host = "127.0.0.1";
      var port = "3010";
      
      function gateConnect() {
      
      	  var route = 'gate.gateHandler.queryEntry';
		  pomelo.init({
			host: window.location.hostname,
			port: 3014,
			log: true
		  }, function() {
			pomelo.request(route, {
				uid: uid
			}, function(data) {
				pomelo.disconnect();
				if(data.code === 500) {
					showError(LOGIN_ERROR);
					return;
				}
		        console.log("hello");
			});
		  });
	  
      }
      
      
      
      function show() {
        pomelo.init({
          host: host,
          port: port,
          log: true
        }, function() {
        pomelo.request("connector.entryHandler.entry", "hello pomelo", function(data) {
            alert(data.msg);
          });
        });
      }
      
      function loginA() {
      
        pomelo.init({
          host: host,
          port: port,
          log: true
        }, function() {
        pomelo.request("connector.entryHandler.login", {
					username: 'user1',
					rid: 'pwd'
				}, function(data) {

          });
        });      
      
      }
      
      function loginB() {
      
        pomelo.init({
          host: host,
          port: port,
          log: true
        }, function() {
        pomelo.request("connector.entryHandler.login", {
					username: 'user2',
					rid: 'pwd'
				}, function(data) {

          });
        });      
      
      }      
      
      function logout() {
      
        pomelo.request("connector.entryHandler.logout", {
					username: 'user1',
					rid: 'pwd'
			}, function(data) {

          });
      
      }
      
      function sitdown() {
      
        pomelo.request("connector.entryHandler.desk", {
        			sit: 0,
        			level: 0,
					username: 'user1',
					rid: 'pwd'
			}, function(data) {

          });
      
      }
      
      function situp() {
      
        pomelo.request("connector.entryHandler.desk", {
        			sit: 1,
        			level: 0,
					username: 'user1',
					rid: 'pwd'
			}, function(data) {

          });
      
      }
      
      function send() {
      
        pomelo.request("crossword.gameHandler.send", {
				rid: 'pwd',
				content: 'message',
				from: 'name',
				target: '*'
			}, function(data) {

          });
      
      }
      
    console.log('js log ... ');
      
	//wait message from the server.
	pomelo.on('onChat', function(data) {
		console.log('onChat ... ');
//		addMessage(data.from, data.target, data.msg);
//		$("#chatHistory").show();
//		if(data.from !== username)
//			tip('message', data.from);
	});

	//update user list
	pomelo.on('onAdd', function(data) {
		console.log('onAdd ... %s',data.channel);
//		var user = data.user;
//		tip('online', user);
//		addUser(user);
	});

	//update user list
	pomelo.on('onLeave', function(data) {
		console.log('onLeave ... ');
//		var user = data.user;
//		tip('offline', user);
//		removeUser(user);
	});
	
	pomelo.on('onGameStart', function(data) {
		console.log('onGameStart ... ');
//		var user = data.user;
//		tip('offline', user);
//		removeUser(user);
	});
	
	pomelo.on('onGameStop', function(data) {
		console.log('onGameStop ... ');
//		var user = data.user;
//		tip('offline', user);
//		removeUser(user);
	});


	//handle disconect message, occours when the client is disconnect with servers
	pomelo.on('disconnect', function(reason) {
		console.log('disconnect ... ');
//		showLogin();
	});
	      
      
    </script>
    

        
        
  </head>
  <body>
    <div class="g-doc">
      <div class="g-banner" style="border:none">
        <div class="logo">
          <div class="img"></div>
        </div>
      </div>
      <div class="g-background">
        <div class="g-content">
          Welcome to Pomelo
        </div>
      </div>
      <div class="g-link">
        Home:
        <a href="https://github.com/NetEase/pomelo">https://github.com/NetEase/pomelo</a>
      </div>
            <div class="g-button">
        	<input id="test" type="button" value="Test Gate Server" onclick="gateConnect()"/>
      </div>
      <div class="g-button">
        <input id="test" type="button" value="Test Game Server" onclick="show()"/>
      </div>
      <div class="g-button">
        <input id="test" type="button" value="Login A Game Server" onclick="loginA()"/>
      </div>    
      <div class="g-button">
        <input id="test" type="button" value="Login B Game Server" onclick="loginB()"/>
      </div>    
      <div class="g-button">
        <input id="test" type="button" value="Sitdown Game Server" onclick="sitdown()"/>
      </div>        
      <div class="g-button">
        <input id="test" type="button" value="Situp Game Server" onclick="situp()"/>
      </div>     
      <div class="g-button">
        <input id="test" type="button" value="Logout Game Server" onclick="logout()"/>
      </div>                
      <div class="g-button">
        <input id="test" type="button" value="Send Game Server" onclick="send()"/>
      </div>      
    </div>
    

    
  </body>
</html>
